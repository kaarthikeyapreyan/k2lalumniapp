import { FeedItem, FeedItemType, FeedComment } from '../../types';
import { mockProfiles } from './profiles';

export const currentUserId = 'user_001';

const now = Date.now();
const hour = 60 * 60 * 1000;
const day = 24 * hour;

export const mockFeedComments: FeedComment[] = [
  {
    id: 'comment_001',
    postId: 'feed_001',
    authorId: 'user_002',
    content: 'Congratulations! This is amazing news! ðŸŽ‰',
    timestamp: now - 2 * hour,
    likes: ['user_003', 'user_004'],
  },
  {
    id: 'comment_002',
    postId: 'feed_001',
    authorId: 'user_003',
    content: 'So proud of you! Keep up the great work!',
    timestamp: now - 1.5 * hour,
    likes: ['user_001'],
  },
  {
    id: 'comment_003',
    postId: 'feed_003',
    authorId: 'user_004',
    content: 'Thanks for sharing these insights! Very helpful.',
    timestamp: now - 4 * hour,
    likes: ['user_001', 'user_002', 'user_003'],
  },
  {
    id: 'comment_004',
    postId: 'feed_005',
    authorId: 'user_002',
    content: 'Would love to attend! Is there a registration link?',
    timestamp: now - 6 * hour,
    likes: ['user_005'],
  },
  {
    id: 'comment_005',
    postId: 'feed_007',
    authorId: 'user_003',
    content: 'This is a great opportunity for recent grads!',
    timestamp: now - 8 * hour,
    likes: ['user_001', 'user_004'],
  },
];

export const mockFeedItems: FeedItem[] = [
  {
    id: 'feed_001',
    type: FeedItemType.MILESTONE,
    authorId: 'user_002',
    content: 'Excited to share that I\'ve just been promoted to Senior Software Engineer at TechCorp! ðŸš€\n\nIt\'s been an incredible journey of growth and learning. Grateful for all the mentorship and support from this amazing alumni community!',
    timestamp: now - 3 * hour,
    likes: ['user_001', 'user_003', 'user_004', 'user_005', 'user_006'],
    comments: [mockFeedComments[0], mockFeedComments[1]],
    shares: ['user_003', 'user_005'],
    views: 234,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_002',
    type: FeedItemType.POST,
    authorId: 'user_003',
    content: 'Just published my first technical blog post on Medium about "Building Scalable React Native Applications". Would love your feedback!\n\nLink: medium.com/@janesmith/scalable-rn',
    timestamp: now - 5 * hour,
    likes: ['user_001', 'user_002', 'user_004', 'user_007'],
    comments: [],
    shares: ['user_001'],
    views: 156,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_003',
    type: FeedItemType.POST,
    authorId: 'user_005',
    content: 'Reflecting on 5 years since graduation... Time flies! Here are some lessons I\'ve learned:\n\n1. Network early and often\n2. Never stop learning\n3. Find mentors who challenge you\n4. Give back to the community\n\nWhat would you add to this list?',
    timestamp: now - 7 * hour,
    likes: ['user_001', 'user_002', 'user_003', 'user_004', 'user_006', 'user_007', 'user_008'],
    comments: [mockFeedComments[2]],
    shares: ['user_002', 'user_006', 'user_008'],
    views: 423,
    isPinned: true,
    isEdited: true,
    editedAt: now - 6 * hour,
  },
  {
    id: 'feed_004',
    type: FeedItemType.MEDIA,
    authorId: 'user_004',
    content: 'Had an amazing time at the alumni reunion last weekend! Great catching up with everyone. Here are some highlights ðŸ“¸',
    images: ['https://picsum.photos/400/300?random=1', 'https://picsum.photos/400/300?random=2', 'https://picsum.photos/400/300?random=3'],
    timestamp: now - 12 * hour,
    likes: ['user_001', 'user_002', 'user_003', 'user_005', 'user_006'],
    comments: [],
    shares: ['user_001', 'user_003'],
    views: 312,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_005',
    type: FeedItemType.EVENT,
    authorId: 'user_006',
    content: 'Join us for an exclusive networking event featuring industry leaders from top tech companies!\n\nðŸ“… March 15, 2026\nðŸ•• 6:00 PM - 9:00 PM\nðŸ“ Tech Hub Downtown\n\nLimited spots available. RSVP now!',
    eventId: 'event_001',
    timestamp: now - 1 * day,
    likes: ['user_001', 'user_002', 'user_003', 'user_004', 'user_005'],
    comments: [mockFeedComments[3]],
    shares: ['user_002', 'user_004'],
    views: 567,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_006',
    type: FeedItemType.SHARED_POST,
    authorId: 'user_007',
    content: 'This resonates so much with my experience. Worth the read!',
    sharedPostId: 'feed_003',
    timestamp: now - 1.2 * day,
    likes: ['user_001', 'user_003'],
    comments: [],
    shares: [],
    views: 89,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_007',
    type: FeedItemType.JOB,
    authorId: 'user_008',
    content: 'We\'re hiring! Looking for talented software engineers to join our growing team.\n\nâ€¢ 3+ years experience\nâ€¢ React/Node.js expertise\nâ€¢ Remote-friendly\nâ€¢ Competitive salary + equity\n\nDM me for referrals!',
    jobId: 'job_001',
    timestamp: now - 1.5 * day,
    likes: ['user_001', 'user_002', 'user_003', 'user_004', 'user_005', 'user_006', 'user_007'],
    comments: [mockFeedComments[4]],
    shares: ['user_001', 'user_002', 'user_003'],
    views: 445,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_008',
    type: FeedItemType.POST,
    authorId: 'user_001',
    content: 'Just completed the Advanced Machine Learning certification! ðŸŽ“\n\nThe course covered:\nâœ“ Deep Learning fundamentals\nâœ“ NLP with Transformers\nâœ“ Computer Vision\nâœ“ MLOps best practices\n\nHappy to share notes with anyone interested!',
    timestamp: now - 2 * day,
    likes: ['user_002', 'user_003', 'user_005', 'user_007'],
    comments: [],
    shares: ['user_002'],
    views: 178,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_009',
    type: FeedItemType.MEDIA,
    authorId: 'user_006',
    content: 'Office tour at our new startup headquarters! We\'re expanding and looking for passionate people to join us.',
    images: ['https://picsum.photos/400/300?random=4'],
    timestamp: now - 2.5 * day,
    likes: ['user_001', 'user_002', 'user_004', 'user_005'],
    comments: [],
    shares: ['user_003'],
    views: 234,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_010',
    type: FeedItemType.POST,
    authorId: 'user_002',
    content: 'Question for the community: How do you balance work and continuous learning?\n\nI\'ve been struggling to find time for side projects while maintaining work-life balance. Would love to hear your strategies!',
    timestamp: now - 3 * day,
    likes: ['user_001', 'user_003', 'user_004', 'user_005', 'user_006', 'user_007', 'user_008'],
    comments: [],
    shares: ['user_004'],
    views: 389,
    isPinned: false,
    isEdited: false,
  },
  {
    id: 'feed_011',
    type: FeedItemType.EVENT,
    authorId: 'user_003',
    content: 'Alumni Career Fair 2026 is happening next month! ðŸŽ‰\n\n50+ companies participating\nResume reviews available\nMock interview sessions\nNetworking lunch included\n\nMark your calendars: April 20-21, 2026',
    timestamp: now - 4 * day,
    likes: ['user_001', 'user_002', 'user_004', 'user_005', 'user_006', 'user_007'],
    comments: [],
    shares: ['user_001', 'user_005', 'user_006'],
    views: 678,
    isPinned: true,
    isEdited: false,
  },
  {
    id: 'feed_012',
    type: FeedItemType.POST,
    authorId: 'user_005',
    content: 'Throwback to our graduation day! Can\'t believe it\'s been 5 years. Forever grateful for the friendships and memories. â¤ï¸',
    images: ['https://picsum.photos/400/300?random=5'],
    timestamp: now - 5 * day,
    likes: ['user_001', 'user_002', 'user_003', 'user_004', 'user_006', 'user_007', 'user_008'],
    comments: [],
    shares: ['user_002', 'user_003'],
    views: 445,
    isPinned: false,
    isEdited: false,
  },
];

export const enrichFeedItems = (items: FeedItem[]): FeedItem[] => {
  return items.map(item => ({
    ...item,
    author: mockProfiles.find(p => p.id === item.authorId),
    sharedPost: item.sharedPostId 
      ? mockFeedItems.find(p => p.id === item.sharedPostId)
      : undefined,
  }));
};
